---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import homepageImg from "../assets/images/homepage/homepage_img.svg";
import { TEXTS } from "../texts";
import Notification from "../components/Notification.astro";

const content = TEXTS.pages.homepage;

const informatiiUtile = await Astro.glob(
  "./../data/homepage/Informatii_utile/*.md"
);
const notificari = await Astro.glob("./../data/homepage/Notificari/*.md");
---

<Layout>
  <div class="page page-home">
    <section class="row">
      <div class="content">
        <div class="titles">
          <h1 class="title">{content.firstSection.title}</h1>
          <p class="subtitle">{content.firstSection.subtitle}</p>
          <a href={content.firstSection.callToAction.link} class="btn-primary"
            >{content.firstSection.callToAction.text}
          </a>
        </div>
      </div>
      <img src={homepageImg} alt="" class="homepageImg" />
    </section>
    <section>
      <div class="row col-10 center">
        <div class="title">{content.secondSection.title}</div>
        <a href={content.secondSection.callToAction.link} class="btn-primary"
          >{content.secondSection.callToAction.text}
        </a>
      </div>
      <div class="row col-10 center pt-1 responsive">
        <div class="col">
          <div class="subtitle">{content.secondSection.rightPart.title}</div>
          {
            content.secondSection.rightPart.data.map((cardElement) => {
              return (
                <Card
                  imageSrc={cardElement.imageSrc}
                  title={cardElement.title}
                  description={cardElement.description}
                />
              );
            })
          }
        </div>
        <div class="col">
          <div class="subtitle">{content.secondSection.leftPart.title}</div>
          {
            content.secondSection.leftPart.data.map((cardElement) => {
              return (
                <Card
                  imageSrc={cardElement.imageSrc}
                  title={cardElement.title}
                  description={cardElement.description}
                />
              );
            })
          }
        </div>
      </div>
    </section>
    <section>
      <div class="col-10 center">
        <div class="title">{content.thirdSection.title}</div>

        {
          informatiiUtile.map((element) => {
            return <Notification content={element} />;
          })
        }
      </div>
    </section>
    <section>
      <div class="col-10 center">
        <div class="title">{content.fourthSection.title}</div>

        {
          notificari.map((element) => {
            return <Notification content={element} />;
          })
        }
      </div>
    </section>
  </div>
</Layout>
